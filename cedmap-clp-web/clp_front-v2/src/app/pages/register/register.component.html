<div class="header pt-7 pt-lg-7">
  <div class="separator separator-bottom separator-skew zindex-100">
    <svg
      x="0"
      y="0"
      viewBox="0 0 2560 100"
      preserveAspectRatio="none"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
    >
      <polygon class="fill-default" points="2560 0 2560 100 0 100"></polygon>
    </svg>
  </div>
</div>
<!-- Page content -->
<div class="container mt-2 pb-5">
  <div class="row justify-content-center">
    <div class="col-lg-5 col-md-7">
      <div class="card bg-secondary shadow border-0">
        <div class="container mb-4">
          <div class="header-bod text-center">
            <div class="row justify-content-center">
              <div class="logo w-100">
                <img
                  class=""
                  src="/assets/img/cedmap.png"
                  alt="CEDMAP"
                  height="85"
                  style="width: 100%"
                />
              </div>
            </div>
          </div>
        </div>
        <div class="card-bod px-4 mb-3">
          <form
            *ngIf="showForm"
            (ngSubmit)="regSubmit(regForm)"
            #regForm="ngForm"
          >
            <h2 class="text-center">Registration</h2>
            <div class="row mt-3">
              <div class="col">
                <div class="d-flex align-items-center mt-2">
                  <span class="far fa-user mr-3"></span>
                  <input
                    required
                    ngModel
                    name="full_name"
                    type="text"
                    class="form-control"
                    placeholder="Full Name"
                    pattern="[A-Za-z ]*"
                    title="Please enter only letters and spaces"
                  />
                </div>
                
                <div class="d-flex align-items-center mt-2">
                  <span class="fa fa-calendar mr-3"></span>
                  <input
                    required
                    ngModel
                    name="dob"
                    type="date"
                    class="form-control"
                    [max]="maxDate"
                    [min]="minDate"
                    (change)="checkAge(regForm.value.dob)"
                    placeholder="Date of Birth"
                  />
                </div>
                <div *ngIf="ageStatus" class="ml-4">
                  <small 
                    [class.text-success]="ageStatus === '18_or_above'" 
                    [class.text-warning]="ageStatus === 'below_18'">
                    {{ ageStatus === '18_or_above' 
                        ? '✓ You are ' + age + ' years old (18 or above)' 
                        : '⚠ You are ' + age + ' years old (below 18)' }}
                  </small>
                </div>
                
                
                <div class="d-flex align-items-center mt-2">
                  <span class="fa fa-mobile mr-3 pl-1"></span>
                  <input
                    required
                    ngModel
                    name="mobile"
                    type="text"
                    class="form-control"
                    min="6000000000"
                    max="9999999999"
                    pattern="[6-9]\d{9}"
                    title="Please enter a valid 10-digit mobile number "
                    placeholder="Mobile"
                  />
                </div>
                
                <div class="d-flex align-items-center mt-2">
                  <span class="fa fa-globe mr-3" aria-hidden="true"></span>
                  <input
                    required
                    [(ngModel)]="email"
                    name="email"
                    type="email"
                    class="form-control"
                    placeholder="Email"
                    maxlength="40"
                    pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}"
                    title="Please enter a valid email address"
                  />
                </div>

                <div class="d-flex align-items-center mt-2">
                  <span class="fas fa-key mr-3"></span>
                  <input
                    required
                    [(ngModel)]="password"
                    name="password"
                    type="password"
                    class="form-control"
                    placeholder="Password"
                    pattern="^(?=.*\d)(?=.*[a-zA-Z]).{8,}$"
                    title="Password must contain at least one letter, one number, and be at least 8 characters long"
                  />
                </div>
                <small class="text-danger lh-1">
                  Password must contain at least one letter, one number, and be
                  at least 8 characters long.
                </small>
              </div>
            </div>
            
            <div class="row my-3">
              <div class="col-7">Registration Process Video Link:</div>
              <div class="col">
                <a href="https://youtu.be/kRoMvA4JvBM" target="_blank">
                  <i class="fa fa-link" aria-hidden="true"></i> Click Here
                </a>
              </div>
            </div>
            
            <div class="row justify-content-center">
              <button
                type="submit"
                class="btn btn-primary mt-3"
                [disabled]="!regForm.form.valid || ageError || !ageStatus"
              >
                Submit
              </button>
            </div>
          </form>
          
          <div class="verify" *ngIf="!showForm">
            <form (ngSubmit)="Submit(otpForm)" #otpForm="ngForm">
              <div class="d-flex align-items-center mt-2">
                <span class="fa fa-lock mr-3"></span>
                <input
                  required
                  ngModel
                  name="otp"
                  type="number"
                  pattern="[0-9]{6}"
                  class="form-control"
                  placeholder="Enter OTP"
                  maxlength="6"
                />
              </div>
              <div class="text-center mt-4">
                <button class="btn btn-primary" type="submit" [disabled]="!otpForm.form.valid">
                  Verify
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>